---
import "../index.scss";
import Layout from "../layouts/Layout.astro";

import { getCollection } from "astro:content";
const posts = await getCollection("posts");
const pages = await getCollection("pages");
---

<Layout>
  {
    posts.map((post) => (
      <div class="grid-row">
        <div class="tablet:grid-col">
          <a class="usa-link" href={"/posts/" + post.data.slug}>
            <h2 set:html={post.data.title} />
            <p set:html={post.data["Example Custom Field"]} />
          </a>
        </div>
      </div>
    ))
  }

  {
    pages.map((page) => (
      <div class="grid-row">
        <div class="tablet:grid-col">
          <a class="usa-link" href={page.data.slug}>
            <h2 set:html={page.data.title} />
          </a>
        </div>
      </div>
    ))
  }
</Layout>
