---
import Link from "./Link.astro";
import { getPreFooterSlim } from "@/components/PreFooterSlim.testData";

type Link = { text: string; url: string };

const { preFooter = getPreFooterSlim() } = Astro.props;
---

{
  preFooter && (
    <>
      <div class="usa-footer__primary-section" id="pre-footer-slim">
        <div class="usa-footer__primary-container grid-row">
          <div class="mobile-lg:grid-col-8">
            <nav class="usa-footer__nav" aria-label="Footer navigation,">
              {preFooter.footerLinks && (
                <ul class="grid-row grid-gap">
                  {preFooter.footerLinks.map((link) => (
                    <li class="mobile-lg:grid-col-6 desktop:grid-col-auto usa-footer__primary-content">
                      <Link
                        className="usa-footer__primary-link"
                        href={link.url}
                      >
                        {link.text}
                      </Link>
                    </li>
                  ))}
                </ul>
              )}
            </nav>
          </div>
          <div class="mobile-lg:grid-col-4">
            {(preFooter.contactEmail || preFooter.contactTelephone) && (
              <address class="usa-footer__address">
                <div class="grid-row grid-gap flex-justify-end">
                  {preFooter.contactTelephone && (
                    <div class="grid-col-auto mobile-lg:grid-col-12 desktop:grid-col-auto">
                      <div class="usa-footer__contact-info">
                        <a href={`tel:${preFooter.contactTelephone}`}>
                          {preFooter.contactTelephone}
                        </a>
                      </div>
                    </div>
                  )}
                  {preFooter.contactEmail && (
                    <div class="grid-col-auto mobile-lg:grid-col-12 desktop:grid-col-auto">
                      <div class="usa-footer__contact-info">
                        <a href={`mailto:${preFooter.contactEmail}`}>
                          {preFooter.contactEmail}
                        </a>
                      </div>
                    </div>
                  )}
                </div>
              </address>
            )}
          </div>
        </div>
      </div>
    </>
  )
}
