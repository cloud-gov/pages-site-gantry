---

---

<script>
  import { ready, subscribe } from "@payloadcms/live-preview";
  import { PREVIEW_MODE, EDITOR_APP_URL } from "astro:env/client";

  const serverURL = EDITOR_APP_URL as string;

  if (window.self !== window.top && PREVIEW_MODE === "true") {
    subscribe({
      callback: () => {
        window.location.reload();
      },
      depth: 1,
      initialData: {},
      serverURL,
    });

    ready({ serverURL });
  }
</script>
